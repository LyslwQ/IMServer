20180331 11:00:00 INFO  show databases - databasemysql.cpp:92
20180331 11:00:00 INFO  CMysqlManager::_IsDBExist, find database(myim) - mysqlmanager.cpp:218
20180331 11:00:00 INFO  desc t_user - databasemysql.cpp:92
20180331 11:00:00 INFO  desc t_user_relationship - databasemysql.cpp:92
20180331 11:00:00 INFO  desc t_chatmsg - databasemysql.cpp:92
20180331 11:00:00 INFO  desc t_device - databasemysql.cpp:92
20180331 11:00:00 INFO  SELECT f_user_id, f_username, f_nickname, f_password,  f_facetype, f_customface, f_gender, f_birthday, f_signature, f_address, f_phonenumber, f_mail FROM t_user ORDER BY  f_user_id DESC - databasemysql.cpp:92
20180331 11:00:00 INFO  current base userid: 0, current base group id: 268435455 - UserManager.cpp:103
20180331 11:00:00 INFO  chatserver initialization complete. - main.cpp:161
20180331 11:04:23 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#1] from 192.168.187.1:60098 - tcpserver.cpp:74
20180331 11:04:23 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#1] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:04:23 INFO  Request from client: userid=0, cmd=1002, seq=0, data={"username": "13025263136", "password": "flaming123", "clienttype": 1, "status": 1}, datalength=83, packageBodySize=98 - ClientSession.cpp:115
20180331 11:04:23 INFO  Response to client: cmd=msg_type_login, data={"code": 102, "msg": "not registered"}, userid=0 - ClientSession.cpp:413
20180331 11:04:23 INFO  get notify msg cache, userid: 0, m_mapNotifyMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:49
20180331 11:04:23 INFO  get chat msg cache, userid: 0, m_listChatMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:81
20180331 11:05:29 INFO  Session is invalid, userid=0 - IMServer.cpp:83
20180331 11:05:29 INFO  client disconnected: 192.168.187.1:60098 - IMServer.cpp:91
20180331 11:05:29 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:05:29 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#1 - tcpserver.cpp:103
20180331 11:05:29 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#1] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:05:29 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
20180331 11:07:27 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#2] from 192.168.187.1:61890 - tcpserver.cpp:74
20180331 11:07:27 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#2] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:07:28 INFO  Request from client: userid=0, cmd=1002, seq=0, data={"username": "flaClient01", "password": "flamingo123", "clienttype": 1, "status": 1}, datalength=84, packageBodySize=99 - ClientSession.cpp:115
20180331 11:07:28 INFO  Response to client: cmd=msg_type_login, data={"code": 102, "msg": "not registered"}, userid=0 - ClientSession.cpp:413
20180331 11:07:28 INFO  get notify msg cache, userid: 0, m_mapNotifyMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:49
20180331 11:07:28 INFO  get chat msg cache, userid: 0, m_listChatMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:81
20180331 11:08:05 INFO  Session is invalid, userid=0 - IMServer.cpp:83
20180331 11:08:05 INFO  client disconnected: 192.168.187.1:61890 - IMServer.cpp:91
20180331 11:08:05 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:08:05 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#2 - tcpserver.cpp:103
20180331 11:08:05 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#2] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:08:05 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
20180331 11:11:47 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#3] from 192.168.187.1:63426 - tcpserver.cpp:74
20180331 11:11:47 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#3] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:11:47 INFO  Request from client: userid=0, cmd=1002, seq=0, data={"username": "13025263136", "password": "flaming123", "clienttype": 1, "status": 1}, datalength=83, packageBodySize=98 - ClientSession.cpp:115
20180331 11:11:47 INFO  Response to client: cmd=msg_type_login, data={"code": 102, "msg": "not registered"}, userid=0 - ClientSession.cpp:413
20180331 11:11:47 INFO  get notify msg cache, userid: 0, m_mapNotifyMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:49
20180331 11:11:47 INFO  get chat msg cache, userid: 0, m_listChatMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:81
20180331 11:12:19 INFO  Session is invalid, userid=0 - IMServer.cpp:83
20180331 11:12:19 INFO  client disconnected: 192.168.187.1:63426 - IMServer.cpp:91
20180331 11:12:19 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:12:19 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#3 - tcpserver.cpp:103
20180331 11:12:19 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#3] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:12:19 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
20180331 11:33:59 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#4] from 192.168.187.1:11971 - tcpserver.cpp:74
20180331 11:33:59 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#4] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:33:59 INFO  Request from client: userid=0, cmd=1001, seq=0, data={"username": "13025263136", "nickname": "flaClient01", "password": "flamingo123"}, datalength=81, packageBodySize=96 - ClientSession.cpp:115
20180331 11:33:59 INFO  Response to client: cmd=msg_type_register, userid=1, data={"code": 0, "msg": "ok"} - ClientSession.cpp:339
20180331 11:34:03 INFO  Session is invalid, userid=0 - IMServer.cpp:83
20180331 11:34:03 INFO  client disconnected: 192.168.187.1:11971 - IMServer.cpp:91
20180331 11:34:03 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:34:03 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#4 - tcpserver.cpp:103
20180331 11:34:03 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#4] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:34:03 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
20180331 11:34:23 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#5] from 192.168.187.1:12483 - tcpserver.cpp:74
20180331 11:34:23 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#5] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:34:23 INFO  Request from client: userid=0, cmd=1002, seq=0, data={"username": "13025263136", "password": "flamingo123", "clienttype": 1, "status": 1}, datalength=84, packageBodySize=99 - ClientSession.cpp:115
20180331 11:34:23 INFO  Response to client: cmd=msg_type_login, data={"code": 0, "msg": "ok", "userid": 1,"username":"13025263136", "nickname":"flaClient01", "facetype": 0, "customface":"", "gender":0, "birthday":19900101, "signature":"", "address": "", "phonenumber": "", "mail":""}, userid=1 - ClientSession.cpp:413
20180331 11:34:23 INFO  get notify msg cache, userid: 1, m_mapNotifyMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:49
20180331 11:34:23 INFO  get chat msg cache, userid: 1, m_listChatMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:81
20180331 11:34:23 INFO  Request from client: userid=1, cmd=1003, seq=0, data=, datalength=0, packageBodySize=15 - ClientSession.cpp:115
20180331 11:34:23 INFO  Response to client: userid=1, cmd=msg_type_getofriendlist, data={"code": 0, "msg": "ok", "userinfo":[{"teamindex": 0, "teamname" : "My Friends", "members" : []}]} - ClientSession.cpp:513
20180331 11:34:53 ERROR TcpConnection::handleError [ZYL-MYIMSERVER:0.0.0.0:8270#5] - SO_ERROR = 104 Connection reset by peer - tcpconnection.cpp:393
20180331 11:34:53 INFO  client disconnected: 192.168.187.1:12483 - IMServer.cpp:91
20180331 11:34:53 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:34:53 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#5 - tcpserver.cpp:103
20180331 11:34:53 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#5] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:34:53 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
20180331 11:35:01 INFO  TcpServer::newConnection [ZYL-MYIMSERVER] - new connection [ZYL-MYIMSERVER:0.0.0.0:8270#6] from 192.168.187.1:12739 - tcpserver.cpp:74
20180331 11:35:01 DEBUG TcpConnection TcpConnection::ctor[ZYL-MYIMSERVER:0.0.0.0:8270#6] at 0xAC48A0 fd=21 - tcpconnection.cpp:46
20180331 11:35:01 INFO  Request from client: userid=0, cmd=1002, seq=0, data={"username": "13025263136", "password": "flamingo123", "clienttype": 1, "status": 1}, datalength=84, packageBodySize=99 - ClientSession.cpp:115
20180331 11:35:01 INFO  Response to client: cmd=msg_type_login, data={"code": 0, "msg": "ok", "userid": 1,"username":"13025263136", "nickname":"flaClient01", "facetype": 0, "customface":"", "gender":0, "birthday":19900101, "signature":"", "address": "", "phonenumber": "", "mail":""}, userid=1 - ClientSession.cpp:413
20180331 11:35:01 INFO  get notify msg cache, userid: 1, m_mapNotifyMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:49
20180331 11:35:01 INFO  get chat msg cache, userid: 1, m_listChatMsgCache.size(): 0, cached size: 0 - MsgCacheManager.cpp:81
20180331 11:35:01 INFO  Request from client: userid=1, cmd=1003, seq=0, data=, datalength=0, packageBodySize=15 - ClientSession.cpp:115
20180331 11:35:01 INFO  Response to client: userid=1, cmd=msg_type_getofriendlist, data={"code": 0, "msg": "ok", "userinfo":[{"teamindex": 0, "teamname" : "My Friends", "members" : []}]} - ClientSession.cpp:513
20180331 11:35:06 ERROR TcpConnection::handleError [ZYL-MYIMSERVER:0.0.0.0:8270#6] - SO_ERROR = 104 Connection reset by peer - tcpconnection.cpp:393
20180331 11:35:06 INFO  client disconnected: 192.168.187.1:12739 - IMServer.cpp:91
20180331 11:35:06 INFO  current online user count: 0 - IMServer.cpp:96
20180331 11:35:06 INFO  TcpServer::removeConnectionInLoop [ZYL-MYIMSERVER] - connection ZYL-MYIMSERVER:0.0.0.0:8270#6 - tcpserver.cpp:103
20180331 11:35:06 DEBUG ~TcpConnection TcpConnection::dtor[ZYL-MYIMSERVER:0.0.0.0:8270#6] at 0xAC48A0 fd=21 state=kDisconnected - tcpconnection.cpp:52
20180331 11:35:06 ERROR Bad file descriptor (errno=9) sockets::close - sockets.cpp:272
